# 架构

MVC 对程序的后期维护和扩展提供了方便，并且提高了程序的可重用性。

## JavaWeb 与 MVC

JavaWeb 经历了 JSP Model1、JSP Model1 二代、JSP Model2 三个时期。

### JSP Model1 第一代

JSP Model1 是 JavaWeb 早期的模型，它适合小型 Web 项目，开发成本低。这个时期，服务器端只有 JSP 页面，所有操作都在 JSP 中进行，连访问数据库也不例外。所有东西耦合在一起，对后期的维护和扩展极为不利。

![](assets/document_image_rId4.png)

### JSP Model1 第二代

第二代有所改进，把业务逻辑的内容放进了 JavaBean 中，而 JSP 负责显示以及请求得调度。虽然第二代好了一些，但 JSP 还是做了过多的工作，JSP 中把视图和请求调度的工作耦合在了一起。

![](assets/document_image_rId4.png)

### JSP Model2

JSP Model2 时期已经可以清晰地看到 MVC 完整的结构了。

JSP：视图层，用来与用户打交道。负责接收数据以及显示数据给用户。

Servlet：控制层，负责找到合适的模型对象来处理业务逻辑，转发到合适的视图。

JavaBean：模型层，完成具体的业务工作。

![](assets/document_image_rId4.png)

这个模式适合多人合作开发大型地 Web 项目，各司其职，互不干涉。但是，Web 项目地开发难度加大了，同时对开发人员的技术要求也提高了。

## MVC

M 代表模型，完成具体的业务操作，如：查询数据库，封装对象。JavaBean

V 代表视图，负责展示数据。View

C 代表控制器：获取用户的输入；调用模型；将数据交给视图进行展示。Controller

此种开发模式极大地降低了耦合度，提高了重用性，而且方便维护，利于分工协作。

## 经典三层架构

注意：在业务层中不能出现 JavaWeb API，如 request、response 等。也就是说，业务层代码是可重用的，设置可以应用到非 Web 环境中。业务层依赖数据层，而 Web 层依赖业务层。

![](assets/document_image_rId4.png)

表示层：用户可以通过界面上的组件和服务器进行交互。

业务逻辑层：处理业务逻辑。

数据访问层：操作数据存储文件。