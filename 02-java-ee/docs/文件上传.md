# 文件上传

当表单设置 enctype="multipart/form-data" 时，request.getParameter() 总是返回 null。

上传细节：

上传的文件保存到 WEB-INF/ 目录下，可以保证文件不被浏览器直接访问到。

目录打散，上传的文件尽量不要都存放到一个目录下，因为一个目录下的文件多了查找会比较费时。

文件名为中文时，需要设置 request.setCharacterEncoding("utf-8")。

缓存大小与临时目录。

单个文件大小限制与整个请求所有数据大小限制。

文件同名问题，需要为每个文件添加名称前缀，前缀不能重复。

防止上传 jsp 文件，然后进行恶意攻击。