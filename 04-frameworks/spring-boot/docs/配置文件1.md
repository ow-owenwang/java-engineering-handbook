# 配置文件1

SpringBoot 是基于约定的，所以很多配置都有默认值，但如果想使用自己的配置替换默认配置的话，就可以使用  application.properties 或者 application.yml（application.yaml）进行配置。

YML 文件格式是 YAML （YAML Aint Markup Language）编写的文件格式，YAML 是一种直观的能够被电脑识别的的数 据数据序列化格式，并且容易被人类阅读，容易和脚本语言交互的，可以被支持 YAML 库的不同的编程语言程序导入，比如： C/C++, Ruby, Python, Java, Perl, C#, PHP等。YML 文件是以数据为核心的，比传统的 XML 方式更加简洁。YML 文件的扩展名可以使用 .yml 或者 .yaml。

语法：

# 普通数据name: Doe# 对象数据person: age: 30 name: Owen person: {name: haohao,age: 31,addr: beijing}# Map 和对象的配置方法是一样的# 配置数组city: - bj - cz city: [bj, cz]# 集合中的元素是对象形式student: - name: Doe   age: 20 - name: Owen   age: 30

修改默认配置信息，需要知道配置项的属性名，详情参考地址：

https://docs.spring.io/spring-boot/docs/2.0.1.RELEASE/reference/htmlsingle/#common-application-properties

常见配置项：

# QUARTZ SCHEDULER (QuartzProperties)spring.quartz.jdbc.initialize-schema=embedded # Database schema initialization mode.spring.quartz.jdbc.schema=classpath:org/quartz/impl/jdbcjobstore/tables_@@platform@@.sql # Path to the SQL file to use to initialize the database schema.spring.quartz.job-store-type=memory # Quartz job store type.spring.quartz.properties.*= # Additional Quartz Scheduler properties.# ----------------------------------------# WEB PROPERTIES# ----------------------------------------# EMBEDDED SERVER CONFIGURATION (ServerProperties)server.port=8080 # Server HTTP port.server.servlet.context-path= # Context path of the application.server.servlet.path=/ # Path of the main dispatcher servlet.# HTTP encoding (HttpEncodingProperties)spring.http.encoding.charset=UTF-8 # Charset of HTTP requests and responses. Added tothe "Content-Type" header if not set explicitly.# JACKSON (JacksonProperties)spring.jackson.date-format= # Date format string or a fully-qualified date formatclass name. For instance, `yyyy-MM-dd HH:mm:ss`.# SPRING MVC (WebMvcProperties)spring.mvc.servlet.load-on-startup=-1 # Load on startup priority of the dispatcherservlet.spring.mvc.static-path-pattern=/** # Path pattern used for static resources.spring.mvc.view.prefix= # Spring MVC view prefix.spring.mvc.view.suffix= # Spring MVC view suffix.# DATASOURCE (DataSourceAutoConfiguration & DataSourceProperties)spring.datasource.driver-class-name= # Fully qualified name of the JDBC driver. Autox2;detected based on the URL by default.spring.datasource.password= # Login password of the database.spring.datasource.url= # JDBC URL of the database.spring.datasource.username= # Login username of the database.# JEST (Elasticsearch HTTP client) (JestProperties)spring.elasticsearch.jest.password= # Login password.spring.elasticsearch.jest.proxy.host= # Proxy host the HTTP client should use.spring.elasticsearch.jest.proxy.port= # Proxy port the HTTP client should use.spring.elasticsearch.jest.read-timeout=3s # Read timeout.spring.elasticsearch.jest.username= # Login username.

如：

application.properties

server.port=8888server.servlet.context-path=demo

application.yml

server:  port: 8888  servlet:    context-path: /demo

如何获得配置文件中的配置信息呢？下面介绍两种方法。

假如有一个配置文件如下：

person:  name: Doe  age: 18

通过 @Value 注解可以将配置文件中的值映射到一个 Spring 管理的 Bean 的字段上。

@Controller@RequestMapping("/")public class ValueController {    @Value("${person.name}")    private String name;    @Value("${person.age}")    private Integer age;    @RequestMapping("/getConfigInfo")    @ResponseBody    public String getConfigInfo() {        return "name: " + name + ", age: " + age;    }}

除了上面这个方法外，还可以通过注解 @ConfigurationProperties 映射得到。

@Controller@ConfigurationProperties(prefix = "person")public class ConfigurationPropertiesController {    private String name;    private Integer age;    public String getName() {        return name;    }    public void setName(String name) {        this.name = name;    }    public Integer getAge() {        return age;    }    public void setAge(Integer age) {        this.age = age;    }    @RequestMapping("/getConfigInfo1")    @ResponseBody    public String getConfigInfo() {        return "name: " + name + ", age: " + age;    }}

第二种方式需要提供 set 方法，否则映射失败。