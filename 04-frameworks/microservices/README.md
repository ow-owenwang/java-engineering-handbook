# 微服务知识点总结

## 1. 简介

微服务架构是一种将单一应用程序开发为一组小型服务的方法，每个服务运行在自己的进程中，并通过轻量级机制（通常是 HTTP RESTful API）进行通信。

## 2. 单体架构

### 缺点

- **复杂性高**：随着业务增长，代码库变得庞大，难以理解和维护
- **部署慢，频率低**：任何小的修改都需要重新部署整个应用
- **扩展能力受限**：不同模块对机器要求可能不一样（如需要大量计算的、需要高内存的），所以一定要买配置非常高的服务器
- **阻碍技术创新**：如更换框架的话可能要重新开发整个项目

## 3. 微服务架构

### 特性

- 每个微服务可独立运行在自己的进程里
- 一系列独立运行的微服务共同构建起整个系统
- 每个服务为独立的业务开发，一个微服务只关注某个特定的功能，例如订单管理、用户管理等
- 可使用不同的语言与数据存储技术，契合项目情况和团队实力
- 微服务之间通过轻量的通信机制进行通信，例如通过 REST API 进行调用
- 全自动的部署机制

### 优点

- 单个服务更容易开发、维护
- 单个服务启动较快
- 局部修改容易部署
- 技术栈不受限
- 按需伸缩

### 缺点

- 运维要求高
- 分布式固有的复杂性
- 重复劳动

### 应用场景

- 大型、复杂的项目
- 有快速迭代的需求
- 访问压力大

### 不适用微服务的场景

- 业务稳定
- 迭代周期长

### 拆分规则

- **职责划分**：按业务功能划分
- **通用性划分**：按通用性和复用性划分

### 合理的粒度

- 良好地满足业务
- 幸福感（开发体验）
- 增量迭代
- 持续进化

## 4. 相关技术栈

微服务架构通常涉及以下技术：

- **服务注册与发现**：Eureka、Consul、Nacos
- **配置中心**：Spring Cloud Config、Nacos Config
- **API 网关**：Spring Cloud Gateway、Zuul
- **负载均衡**：Ribbon、LoadBalancer
- **熔断器**：Hystrix、Sentinel
- **分布式追踪**：Sleuth、Zipkin
- **消息队列**：RabbitMQ、Kafka
- **服务监控**：Prometheus、Grafana
