# 流程控制

在一个程序执行的过程中，每条语句的执行顺序对程序的结果是有直接影响的。也就是说，程序的流程对运行结果有直接的影响。所以，我们必须清楚每条语句的执行流程。而且，很多时候我们要通过控制语句的执行顺序来实现我们要完成的功能。

默认情况下，代码是根据编写的顺序由上到下运行。

顺序结构

程序从上到下逐行地执行，中间没有任何判断和跳转。

分支结构

根据条件，选择性地执行某段代码。

有if…else和switch两种分支语句。

循环结构

根据循环条件，重复性的执行某段代码。

有while、do…while、for三种循环语句。

注：JDK1.5提供了foreach循环，方便的遍历集合、数组元素。

## 复合语句

Java 语言地复合语句是以整个块区为单位地语句，又称块语句。通俗一点就是一对大括号中若干个语句就是复合语句。

块中定义的变量只能在该块中被访问到。

## 顺序结构

Java 中定义成员变量时采用合法的前向引用。

![](assets/document_image_rId4.png)

01-顺序结构的流程图.png

public class Test{
    int num1 = 12;
    int num2 = num1 + 2;
}

// 错误形式：

public class Test{
    int num2 = num1 + 2；
    int num1 = 12;
}

## 分支结构

条件语句可根据不同的条件执行不同的语句。条件语句包括 if 条件语句与 switch 多分支语句。

### if-else

单 if 语句的流程图：

标准 if-else 语句的流程图：

扩展 if-else 语句的流程图：

if (判断条件1) {
    执行语句1;
} else if (判断条件2) {
    执行语句2;
}
...
}else if (判断条件n) {
    执行语句n;
} else {
    执行语句n+1;
}

### switch

根据变量的值，选择相应的 case 去判断，一旦满足 case 条件，就执行 case 的相应语句。

switch(表达式) {
    case 常量值1:
        语句体1;
        break;
    case 常量值2:
        语句体2;
        break;
    ...
    default:
        语句体n+1;
        break;
}

注意：

• break 语句用来在执行完一个 case 分支后使程序跳出 switch 语句块；如果没有break，程序会顺序执行到 switch结尾。

• default 是可选的，而且位置是灵活的，当没有匹配的 case 时，执行default。

• switch(表达式)中表达式的返回值必须是下述几种类型之一：byte、short、char、int、枚举、String。

• case 中的值只能是常量，不能是取值范围，且所有 case 子句中的值应是不同的。

case 的穿透性

在 switch 语句中，如果 case 的后面不写 break，将出现穿透现象，也就是不会在判断下一个 case 的值，直接向后运行，直到遇到 break，或者整体 switch 结束。

switch 和 if 语句的对比

如果判断的具体数值不多，而且符合 byte、 short 、int、 char 这四种类型。虽然两个语句都可以使用，建议使用swtich 语句。因为效率稍高。

其他情况：对区间判断，对结果为 boolean 类型判断，使用 if，if的使用范围更广。

## 循环结构

循环语句可以在满足循环条件的情况下，反复执行某一段代码，这段被重复执行的代码被称为循环体语句，当反复执行这个循环体时，需要在合适的时候把循环判断条件修改为 false，从而结束循环，否则循环将一直执行下去，形成死循环。

循环语句的四个组成部分

初始化部分（init_statement）

循环条件部分（test_exp）

循环体部分（body_statement）

迭代部分（alter_statement）

分类：

for(初始化表达式①; 布尔表达式②; 步进表达式④){
    循环体③
}

初始化表达式①
while(布尔表达式②){
    循环体③
    步进表达式④
}

初始化表达式①
do{
    循环体③
    步进表达式④
}while(布尔表达式②);

for 循环的流程图：

while 循环的流程图：

最简单无限循环格式：while(true) , for(;;),无限循环存在的原因是并不知道循环多少次，需要根据某些条件，来控制循环。

do...while 循环会无条件执行一次循环体，即使我们将循环条件直接写成 false，也依然会循环一次。

在已知循环次数的时候使用推荐使用 for，循环次数未知的时推荐使用 while。

### 嵌套循环

将一个循环放在另一个循环体内，就形成了嵌套循环。其中，for ,while ,do…while均可以作为外层循环和内层循环。

实质上，嵌套循环就是把内层循环当成外层循环的循环体。当只有内层循环的循环条件为false时，才会完全跳出内层循环，才可结束外层的当次循环，开始下一次的循环。

设外层循环次数为m次，内层为n次，则内层循环体实际上需要执行m*n=mn次。

### 循环控制

break

用于终止某个语句块的执行。可以跳出 switch 结构。当在循环结构中，同样也可用它跳出当前循环体，从而中断当前循环。

break 语句出现在多层嵌套的语句块中时，该语句只会使程序跳出包含它地最内层地循环结构，但是可以通过标签指明要终止的是哪一层语句块

Loop: for(int i = 0; i < 3; i++){
    for(int j = 0; j < 6; j++){
        if(j == 4){
            break Loop; //跳出Loop标签标记地循环体
        }
        System.out.println("i=" + i + " j=" + j);
    }
}

continue

continue语句用于跳过某个循环语句块的一次执行

continue语句出现在多层嵌套的循环语句体中时，可以通过标签指明要跳过的是哪一层循环

return

return：并非专门用于结束循环的，它的功能是结束一个方法。当一个方法执行到一个return语句时，这个方法将被结束。

与break和continue不同的是，return直接结束整个方法，不管这个return处于多少层循环之内

说明：

break只能用于switch语句和循环语句中。

continue 只能用于循环语句中。

二者功能类似，但continue是终止本次循环，break是终止本层循环。

break、continue之后不能有其他的语句，因为程序永远不会执行其后的语句。

标号语句必须紧接在循环的头部。标号语句不能用在非循环语句的前面。